{% extends 'base.html' %}

{% block content %}

<h1 class="page-title">My Dashboard</h1>

<div class="info-bar">

    <div class="new-button">
        <button><a href="/transactions/new">Add New</a></button>
    </div>

    <div class="new-button">
        <button><a href="">Search</a></button>
    </div>

    <div class="new-button">
        <button><a href="">Filter</a></button>
    </div>

    <div class="new-button">
        <button><a href="">Sort</a></button>
    </div>

    <div class="new-button">
        <button><a href="/transactions/edit-target">Update Target</a></button>
    </div>

    <div class="total-target">
        Target: <b>£000.00</b>
    </div>

    <div class="total-transactions">
        Total: <b>£{{ total }}</b>
    </div>


</div>


<div>
    <ul>
        {% for transaction in all_transactions %}
            <div class="list-block">   
                <li class="list-item div1" id="list-merchant-tag">
                <b>{{ transaction.tag.name }} </b>
                <br>
                </li>

                <li class="list-item div2">
                    {{ transaction.merchant.name }} - {{ transaction.description }}
                </li>

                <li class="list-item div4" id="list-date">
                    {{ transaction.date }}
                </li>
                
                <li class="list-item div5" id="list-price">
                    <b>£{{ transaction.price }}</b>
                </li>

                <div class="buttons div3">
                    <form class="update-button" action="/transactions/{{transaction.id}}/edit" method="post">
                        <button>Update</button>
                    </form>
                </div>

                <div class="buttons div6">
                    <form class="delete-button" action="/transactions/{{ transaction.id }}/delete" method="post">
                        <button><i class="fa fa-trash-o fa-3x"></i></button>
                    </form>
                </div>
            </div>
        {% endfor %}
        
    </ul>
</div>

    
{% endblock content %}