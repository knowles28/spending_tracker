{% extends 'base.html' %}

{% block content %}

<h1 class="page-title">Merchants</h1>

<div class="button-4 ">
    <button><a href="/merchants/new">Add New</a></button>
</div>


<table class="transaction-table" style="width:100%">
    <thead>
        <!-- <tr>
            <th>Icon </th>
            <th>Transaction</th>
            <th>Date</th>
            <th>Amount</th>
            <th>Buttons</th>
        </tr> -->
    </thead>

    {% for merchant in all_merchants %}        
        <tr>
            <td>
                <i class="fa-solid fa-building-circle-check"></i>            </td>
            <td> 
               <b> {{ merchant.name }} </b>
            </td>

            <td>
                Restricted? <b> 
                    {% if merchant.restricted == True %} Yes {% endif %}
                    {% if merchant.restricted == False %} No {% endif %}
                </b>
            </td>

            <td>
                <form class="restrict-button" action="/merchants/{{merchant.id}}/update-restricted" method="post">
                    <button>
                    {% if merchant.restricted == False %}
                        <i class="fa fa-check fa-2x" style="color:green" aria-hidden="true"></i>
                    {% else %}
                        <i class="fa fa-times fa-2x" style="color:rgb(221, 3, 3)" aria-hidden="true"></i>
                    {% endif %}
                    </button>
                </form>
            </td>


            <td >
                <form class="update-button" action="/merchants/{{merchant.id}}/edit" method="post">
                    <button><i class="fa-solid fa-pen-to-square"></i></button>
                </form>
        
            </td>
            <td>
                <form class="delete-button" action="/merchants/{{merchant.id}}/delete" method="post">
                    <button><i class="fa fa-trash-o"></i></button>
                </form>
            </td>
        </tr>
    {% endfor %}
    </tr>
</table>

    
{% endblock content %}

<!-- 



<div class="list-block">
    <ul>
        {% for merchant in all_merchants %}
                <li>Name: <b>{{ merchant.name }}</b> </li>

                <li>Restricted? <b> 
                    {% if merchant.restricted == True %} Yes {% endif %}
                    {% if merchant.restricted == False %} No {% endif %}
                </b> </li>

                <div class="buttons">
                    <form class="restrict-button" action="/merchants/{{merchant.id}}/update-restricted" method="post">
                        <button>
                        {% if merchant.restricted == False %}
                            <i class="fa fa-check fa-2x" style="color:green" aria-hidden="true"></i>
                        {% else %}
                            <i class="fa fa-times fa-2x" style="color:rgb(221, 3, 3)" aria-hidden="true"></i>
                        {% endif %}
                        </button>
                    </form>

                <div class="buttons">
                    <form class="update-button" action="/merchants/{{merchant.id}}/edit" method="post">
                        <button>Update</button>
                    </form>

                <div class="buttons">
                    <form class="delete-button" action="/merchants/{{merchant.id}}/delete" method="post">
                        <button><i class="fa fa-trash-o fa-3x"></i></button>
                    </form>
                </div>
        {% endfor %}
        
    </ul>
</div> -->
